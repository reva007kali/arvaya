class d{constructor(e={}){this.options={root:null,rootMargin:e.offset||"0px 0px -50px 0px",threshold:e.threshold||.1,once:e.once!==void 0?e.once:!0},this.init()}init(){if(!("IntersectionObserver"in window)){this.showAll();return}this.observer=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting?(this.animateIn(t.target),this.options.once&&this.observer.unobserve(t.target)):this.options.once||this.animateOut(t.target)})},this.options),this.scanElements()}scanElements(){document.querySelectorAll("[data-anim-stagger]").forEach(a=>{const n=parseFloat(a.getAttribute("data-anim-stagger"))||.1;a.querySelectorAll("[data-anim]").forEach((s,r)=>{const o=(parseFloat(s.getAttribute("data-delay"))||0)+r*n;s.style.setProperty("--anim-delay",`${o}s`)})}),document.querySelectorAll("[data-anim]").forEach(a=>{const n=a.getAttribute("data-duration"),l=a.getAttribute("data-ease");if(!a.style.getPropertyValue("--anim-delay")){const s=a.getAttribute("data-delay");s&&a.style.setProperty("--anim-delay",s)}n&&a.style.setProperty("--anim-duration",n),l&&a.style.setProperty("--anim-ease",l),this.observer.observe(a)})}animateIn(e){e.classList.add("is-visible")}animateOut(e){e.classList.remove("is-visible")}showAll(){document.querySelectorAll("[data-anim]").forEach(e=>{e.classList.add("is-visible")})}}document.addEventListener("DOMContentLoaded",()=>{new d({once:!0,offset:"0px 0px -50px 0px"});let i=null;const e=document.getElementById("pwa-install-btn");window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),i=t,e&&(e.style.display="inline-flex")}),e&&e.addEventListener("click",async()=>{if(!i)return;i.prompt();const{outcome:t}=await i.userChoice;i=null,e.style.display="none",console.log("PWA install",t)}),window.addEventListener("appinstalled",()=>{e&&(e.style.display="none"),console.log("PWA installed")})});document.addEventListener("alpine:init",()=>{Alpine.data("youtubePlayer",i=>({player:null,isPlaying:!1,isOpen:!1,videoId:"",initPlayer(){const e=i.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);if(this.videoId=e&&e[2].length===11?e[2]:null,!!this.videoId)if(window.YT)this.createPlayer();else{const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.body.appendChild(t),window.onYouTubeIframeAPIReady=()=>this.createPlayer()}},createPlayer(){this.player=new YT.Player("yt-player-container",{height:"100%",width:"100%",videoId:this.videoId,playerVars:{autoplay:1,playsinline:1,controls:0,loop:1,playlist:this.videoId},events:{onReady:e=>{e.target.setPlaybackQuality("tiny"),e.target.playVideo()},onStateChange:e=>{this.isPlaying=e.data===YT.PlayerState.PLAYING}}})},playMusic(){this.player&&this.player.playVideo&&(this.player.playVideo(),this.isPlaying=!0)},togglePlay(){this.player&&(this.isPlaying?this.player.pauseVideo():this.player.playVideo())},seek(e){this.player&&this.player.seekTo(this.player.getCurrentTime()+e,!0)}}))});
